<ng-container *ngIf="loading === true">
  <app-my-spinner />
</ng-container>

<ng-container *ngIf="loading === false">
  <button (click)="Back()" class="cssbuttons-io-button">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 320 512">
      <!--!Font Awesome Free 6.5.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free Copyright 2024 Fonticons, Inc.-->
      <path
        fill="#A9A9A9"
        d="M267.5 440.6c9.5 7.9 22.8 9.7 34.1 4.4s18.4-16.6 18.4-29V96c0-12.4-7.2-23.7-18.4-29s-24.5-3.6-34.1 4.4l-192 160L64 241V96c0-17.7-14.3-32-32-32S0 78.3 0 96V416c0 17.7 14.3 32 32 32s32-14.3 32-32V271l11.5 9.6 192 160z"
      />
    </svg>
  </button>
  <div class="container" style="flex-direction: row">
    <div
      @showAnimate
      *ngFor="
        let key of Object.keys(offer())
          | paginate : { itemsPerPage: 6, currentPage: p };
        index as i
      "
      class="card"
    >
      <div (click)="gotoOfferDetail(offer()[key])">
        <div class="img">
          <div class="save">
            <svg
              class="svg"
              width="683"
              height="683"
              viewBox="0 0 683 683"
              fill="none"
              xmlns="http://www.w3.org/2000/svg"
            >
              <g clip-path="url(#clip0_993_25)">
                <mask
                  id="mask0_993_25"
                  style="mask-type: luminance"
                  maskUnits="userSpaceOnUse"
                  x="0"
                  y="0"
                  width="683"
                  height="683"
                >
                  <path
                    d="M0 -0.00012207H682.667V682.667H0V-0.00012207Z"
                    fill="white"
                  ></path>
                </mask>
                <g mask="url(#mask0_993_25)">
                  <path
                    d="M148.535 19.9999C137.179 19.9999 126.256 24.5092 118.223 32.5532C110.188 40.5866 105.689 51.4799 105.689 62.8439V633.382C105.689 649.556 118.757 662.667 134.931 662.667H135.039C143.715 662.667 151.961 659.218 158.067 653.09C186.451 624.728 270.212 540.966 304.809 506.434C314.449 496.741 327.623 491.289 341.335 491.289C355.045 491.289 368.22 496.741 377.859 506.434C412.563 541.074 496.752 625.242 524.816 653.348C530.813 659.314 538.845 662.667 547.308 662.667C563.697 662.667 576.979 649.395 576.979 633.019V62.8439C576.979 51.4799 572.48 40.5866 564.447 32.5532C556.412 24.5092 545.489 19.9999 534.133 19.9999H148.535Z"
                    stroke="#CED8DE"
                    stroke-width="40"
                    stroke-miterlimit="10"
                    stroke-linecap="round"
                    stroke-linejoin="round"
                  ></path>
                </g>
              </g>
              <defs>
                <clipPath id="clip0_993_25">
                  <rect width="682.667" height="682.667" fill="white"></rect>
                </clipPath>
              </defs>
            </svg>
          </div>
        </div>

        <div class="text">
          <p class="h3">{{ offer()[key].ban }}</p>
          <p class="p">
            {{ Object.keys(offer()[key].cart.carts).length }} Thức Ăn -
            {{ moment(offer()[key].createdAt).locale("vi").fromNow() }}
          </p>

          <div class="icon-box">
            <svg
              *ngIf="offer()[key].done === false"
              xmlns="http://www.w3.org/2000/svg"
              viewBox="0 0 512 512"
            >
              <!--!Font Awesome Free 6.5.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free Copyright 2024 Fonticons, Inc.-->
              <path
                fill="#FFD43B"
                d="M75 75L41 41C25.9 25.9 0 36.6 0 57.9V168c0 13.3 10.7 24 24 24H134.1c21.4 0 32.1-25.9 17-41l-30.8-30.8C155 85.5 203 64 256 64c106 0 192 86 192 192s-86 192-192 192c-40.8 0-78.6-12.7-109.7-34.4c-14.5-10.1-34.4-6.6-44.6 7.9s-6.6 34.4 7.9 44.6C151.2 495 201.7 512 256 512c141.4 0 256-114.6 256-256S397.4 0 256 0C185.3 0 121.3 28.7 75 75zm181 53c-13.3 0-24 10.7-24 24V256c0 6.4 2.5 12.5 7 17l72 72c9.4 9.4 24.6 9.4 33.9 0s9.4-24.6 0-33.9l-65-65V152c0-13.3-10.7-24-24-24z"
              />
            </svg>
            <p
              *ngIf="offer()[key].done === false"
              style="color: #ffd43b"
              class="span"
            >
              {{ offer()[key].note }}
            </p>

            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512">
              <!--!Font Awesome Free 6.5.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free Copyright 2024 Fonticons, Inc.-->
              <path
                *ngIf="offer()[key].done === true"
                fill="#63E6BE"
                d="M438.6 105.4c12.5 12.5 12.5 32.8 0 45.3l-256 256c-12.5 12.5-32.8 12.5-45.3 0l-128-128c-12.5-12.5-12.5-32.8 0-45.3s32.8-12.5 45.3 0L160 338.7 393.4 105.4c12.5-12.5 32.8-12.5 45.3 0z"
              />
            </svg>
            <p
              *ngIf="offer()[key].done === true"
              style="color: #63e6be"
              class="span"
            >
              {{ offer()[key].note }}
            </p>
          </div>
        </div>
      </div>
    </div>
  </div>
  <div class="footer-offline">
    <pagination-controls
      class="pagination-spreads"
      [autoHide]="true"
      [responsive]="true"
      previousLabel=""
      nextLabel=""
      (pageChange)="pageChanged($event)"
    ></pagination-controls>
  </div>
</ng-container>
